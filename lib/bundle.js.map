{"version":3,"sources":["webpack:///webpack/bootstrap 8dd64ba1ec240ef4dbd9","webpack:///./lib/mini-lennium_falcon.js","webpack:///./lib/game.js","webpack:///./lib/game_view.js","webpack:///./lib/asteroid.js","webpack:///./lib/movable_object.js","webpack:///./lib/util.js","webpack:///./lib/ship.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACZD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,4BAA2B,aAAa;AACxC;AACA,8BAA6B,aAAa;AAC1C,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACpGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAwB,0BAA0B,EAAE;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8dd64ba1ec240ef4dbd9\n **/","const Game = require('./game');\nconst GameView = require('./game_view');\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  const canvas = document.getElementsByTagName('canvas')[0];\n  canvas.width = Game.DIM_X;\n  canvas.height = Game.DIM_Y;\n\n  const ctx = canvas.getContext(\"2d\");\n  const game = new Game();\n  const gameView = new GameView(game, ctx);\n  gameView.start();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/mini-lennium_falcon.js\n ** module id = 0\n ** module chunks = 0\n **/","const Asteroid = require('./asteroid');\nconst Ship = require('./ship');\nconst Util = require('./util');\n\nclass Game {\n  constructor() {\n    this.asteroids = [];\n    this.ships = [];\n\n    this.addAsteroids();\n  }\n\n  addAsteroids() {\n    this.add(new Asteroid({ game: this }));\n    const asteroidInterval = window.setInterval(() => {\n      this.add(new Asteroid({ game: this }));\n    }, 1000);\n  }\n\n  add(object) {\n    if (object instanceof Asteroid) {\n      this.asteroids.push(object);\n    } else if (object instanceof Ship) {\n      this.ship = object;\n    } else {\n      throw \"UFO!\";\n    }\n  }\n\n  addShip() {\n    const ship = new Ship({\n      pos: this.shipStartPosition(),\n      game: this\n    });\n    this.add(ship);\n    return ship;\n  }\n\n  allObjects() {\n    return [].concat([this.ship], this.asteroids);\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.allObjects().forEach((object) => {\n      object.draw(ctx);\n    });\n  }\n\n  moveObjects(timeDelta) {\n    this.allObjects().forEach((object) => {\n      object.move(timeDelta);\n    });\n  }\n\n  checkCollisions() {\n    const asteroids = this.asteroids;\n    for (let i = 0; i < asteroids.length; i++) {\n      if (this.ship.isCrash(asteroids[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  checkOutOfBounds() {\n    const shipPosition = this.ship.pos[1];\n    return (shipPosition < 0 && shipPosition > 400);\n  }\n\n  checkCrash() {\n    return (this.checkCollisions() && this.checkOutOfBounds());\n  }\n\n  asteroidStartPosition() {\n    return [Game.DIM_X, Game.DIM_Y * Math.random()];\n  }\n\n  shipStartPosition() {\n    return [225, Game.DIM_Y / 2];\n  }\n\n  remove(object) {\n    if (object instanceof Asteroid) {\n      this.asteroids.splice(this.asteroids.indexOf(object, 1));\n    } else {\n      throw \"UFO!\";\n    }\n  }\n\n  step(delta) {\n    this.moveObjects(delta);\n    this.checkCrash();\n  }\n}\n\nGame.DIM_X = 900;\nGame.DIM_Y = 400;\nGame.MAX_ASTEROIDS = 3;\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","class GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n    this.ship = this.game.addShip();\n  }\n\n  bindKeyHandlers() {\n    key(\"space\", () => { this.ship.accelerate(-2); });\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.prevTime = 0;\n\n    window.requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.prevTime;\n    this.game.step(timeDelta);\n    this.game.draw(this.ctx);\n    this.prevTime = time;\n\n    window.requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game_view.js\n ** module id = 2\n ** module chunks = 0\n **/","const Util = require(\"./util\");\nconst MovableObject = require(\"./movable_object\");\n\nconst DEFAULTS = {\n  COLOR: '#505050',\n  RADIUS: 25,\n  MAX_SPEED: 4\n};\n\nclass Asteroid extends MovableObject {\n  constructor(options = {}) {\n    options.color = DEFAULTS.COLOR;\n    options.pos = options.pos || options.game.asteroidStartPosition();\n    options.radius = DEFAULTS.RADIUS;\n    options.vel = options.vel || Util.randomVector(DEFAULTS.MAX_SPEED);\n    super(options);\n  }\n}\n\nmodule.exports = Asteroid;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/asteroid.js\n ** module id = 3\n ** module chunks = 0\n **/","const Util = require('./util');\n\nconst NORMALIZED_TIME_BETWEEN_FRAMES = 1000/60;\n\nclass MovableObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.vel = options.vel;\n    this.radius = options.radius;\n    this.color = options.color;\n    this.game = options.game;\n    this.isShip = false;\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n    ctx.arc(\n      this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n    );\n    ctx.fill();\n  }\n\n  move(timeBetween) {\n    const timeElapsed = timeBetween / NORMALIZED_TIME_BETWEEN_FRAMES;\n    const xDelta = this.vel[0] * timeElapsed;\n    const yDelta = this.vel[1] * timeElapsed;\n\n    this.pos = [this.pos[0] + xDelta, this.pos[1] + yDelta];\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n}\n\nmodule.exports = MovableObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/movable_object.js\n ** module id = 4\n ** module chunks = 0\n **/","const Util = {\n  inherits (child, parent) {\n    const Surrogate = function () {};\n    Surrogate.prototype = parent.prototype;\n    child.prototype = new Surrogate ();\n    child.prototype.constructor = child;\n  },\n\n  distanceBetween (objectA, objectB) {\n    const deltaX = Math.pow(objectA.pos[0] - objectB.pos[0], 2);\n    const deltaY = Math.pow(objectA.pos[1] - objectB.pos[1], 2);\n    return Math.sqrt(deltaX + deltaY);\n  },\n\n  randomVector (length) {\n    const xVector = -(Math.random() + 1) * length;\n\n    return [xVector, 0];\n  }\n};\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/util.js\n ** module id = 5\n ** module chunks = 0\n **/","const Util = require(\"./util\");\nconst MovableObject = require(\"./movable_object\");\n\nconst DEFAULTS = {\n  RADIUS: 10,\n  VELOCITY: [0, 0],\n  COLOR: 'red',\n  TERMINAL_VEL: 3\n};\n\nclass Ship extends MovableObject {\n  constructor(options = {}) {\n    options.radius = DEFAULTS.RADIUS;\n    options.vel = options.vel || DEFAULTS.VELOCITY;\n    options.color = options.color || DEFAULTS.COLOR;\n    super(options);\n    window.setInterval(this.gravity.bind(this), 75);\n  }\n\n  accelerate(impulse) {\n    if (this.vel[1] > -DEFAULTS.TERMINAL_VEL) {\n      this.vel[1] += impulse;\n    }\n  }\n\n  gravity() {\n    if (this.vel[1] < DEFAULTS.TERMINAL_VEL) {\n      this.vel[1] += .5;\n    }\n  }\n\n  isCrash(otherObject) {\n    const distanceBetween = Util.distanceBetween(this, otherObject);\n    const minDistanceBetween = this.radius + otherObject.radius;\n    return (distanceBetween < minDistanceBetween);\n  }\n}\n\nmodule.exports = Ship;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/ship.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}