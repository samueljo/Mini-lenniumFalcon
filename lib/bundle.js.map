{"version":3,"sources":["webpack:///webpack/bootstrap 2dec47b441b69b5341f2","webpack:///./lib/mini-lennium_falcon.js","webpack:///./lib/game.js","webpack:///./lib/asteroid.js","webpack:///./lib/util.js","webpack:///./lib/movable_object.js","webpack:///./lib/sprite.js","webpack:///./lib/ship.js","webpack:///./lib/game_view.js","webpack:///./lib/background.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACZD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA,4BAA2B,aAAa;AACxC;AACA,8BAA6B,aAAa;AAC1C,MAAK;AACL;;AAEA;AACA;AACA,uBAAsB,iBAAiB;AACvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACjIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA,uCAAsC,aAAa;AACnD;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACRA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA,uCAAsC,QAAQ;AAC9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAqC,QAAQ;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAqC,QAAQ;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2dec47b441b69b5341f2\n **/","const Game = require('./game');\nconst GameView = require('./game_view');\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  const canvas = document.getElementsByTagName('canvas')[0];\n  canvas.width = Game.DIM_X;\n  canvas.height = Game.DIM_Y;\n\n  const ctx = canvas.getContext(\"2d\");\n  const game = new Game();\n  const gameView = new GameView(game, ctx);\n  gameView.start();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/mini-lennium_falcon.js\n ** module id = 0\n ** module chunks = 0\n **/","const Asteroid = require('./asteroid');\n// const AsteroidWall = require('./asteroid_wall');\nconst Ship = require('./ship');\nconst Background = require('./background');\nconst Util = require('./util');\n\nclass Game {\n  constructor() {\n    this.asteroids = [];\n    this.addAsteroids();\n    // this.addAsteroidWall();\n    this.points = 0;\n  }\n\n  displayPoints() {\n    $jo('.points').text(this.points);\n    $jo('.highscore').text(`Highscore: 0`);\n    this.points += 1;\n  }\n\n  add(object) {\n    if (object instanceof Asteroid) {\n      this.asteroids.push(object);\n    } else if (object instanceof Ship) {\n      this.ship = object;\n    } else if (object instanceof Background) {\n      this.background = object;\n    } else {\n      throw \"UFO!\";\n    }\n  }\n\n  addAsteroids() {\n    this.add(new Asteroid({ game: this }));\n    const asteroidInterval = window.setInterval(() => {\n      this.add(new Asteroid({ game: this }));\n    }, 750);\n  }\n\n  // addAsteroidWall() {\n  //   const wall = AsteroidWall.createWall(this);\n  //   for (let i = 0; i < wall.length; i++) {\n  //     this.add(wall[i]);\n  //   }\n  // }\n\n  addShip() {\n    const ship = new Ship({\n      pos: this.shipStartPosition(),\n      game: this\n    });\n    this.add(ship);\n    return ship;\n  }\n\n  addBackground() {\n    const background = new Background();\n    this.add(background);\n  }\n\n  allObjects() {\n    return [].concat(\n      [this.background],\n      [this.ship],\n      this.asteroids\n    );\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.allObjects().forEach((object) => {\n      object.draw(ctx);\n    });\n  }\n\n  moveObjects(timeDelta) {\n    this.allObjects().forEach((object) => {\n      object.move(timeDelta);\n    });\n  }\n\n  checkCollisions() {\n    const asteroids = this.asteroids;\n    for (let i = 0; i < asteroids.length; i++) {\n      if (this.ship.isCrash(asteroids[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  checkOutOfBounds() {\n    const shipPosition = this.ship.pos[1];\n    return (shipPosition < -55 || shipPosition > 325);\n  }\n\n  checkCrash() {\n    if (this.checkCollisions() || this.checkOutOfBounds()) {\n      alert('Oh no! You crashed!');\n      this.remove(this.ship);\n    }\n  }\n\n  asteroidStartPosition() {\n    return [Game.DIM_X, Game.DIM_Y * Math.random()];\n  }\n\n  shipStartPosition() {\n    return [225, Game.DIM_Y / 3];\n  }\n\n  remove(object) {\n    if (object instanceof Asteroid) {\n      this.asteroids.splice(this.asteroids.indexOf(object, 1));\n    } else {\n      throw \"UFO!\";\n    }\n  }\n\n  step(delta) {\n    this.moveObjects(delta);\n    this.checkCrash();\n    this.displayPoints();\n  }\n}\n\nGame.DIM_X = 900;\nGame.DIM_Y = 400;\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","const Util = require(\"./util\");\nconst MovableObject = require(\"./movable_object\");\n\nconst DEFAULTS = {\n  DIM: 100,\n  VELOCITY: [0, 0],\n  TERMINAL_VEL: 3,\n  PATH: 'assets/sprites/asteroid',\n  RADIUS: 30,\n  MAX_SPEED: 6\n};\n\nclass Asteroid extends MovableObject {\n  constructor(options = {}) {\n    const randAsteroid = Math.floor(Math.random() * 4);\n    options.pos = options.pos || options.game.asteroidStartPosition();\n    options.radius = DEFAULTS.RADIUS;\n    options.dim = DEFAULTS.DIM;\n    options.path = DEFAULTS.PATH + `${randAsteroid}.png`;\n    options.vel = options.vel || Util.randomVector(DEFAULTS.MAX_SPEED);\n    super(options);\n    this.rot = 0;\n  }\n}\n\nmodule.exports = Asteroid;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/asteroid.js\n ** module id = 2\n ** module chunks = 0\n **/","const Util = {\n  distanceBetween(objectA, objectB) {\n    const deltaX = Math.pow(objectA.pos[0] - objectB.pos[0], 2);\n    const deltaY = Math.pow(objectA.pos[1] - objectB.pos[1], 2);\n    return Math.sqrt(deltaX + deltaY);\n  },\n\n  randomVector(length) {\n    const xVector = -(Math.random() + 1) * length;\n\n    return [xVector, 0];\n  },\n\n  // randomPos(xDim, yDim) {\n  //   return [\n  //     xDim * Math.random(),\n  //     yDim * Math.random()\n  //   ];\n  // }\n\n  calcFalcNum(vel) {\n    if (vel <= 0 && vel > -2.5) {\n      return 3;\n    } else if (vel <= -2.5) {\n      return 4;\n    } else if (vel > 2.5) {\n      return 0;\n    } else {\n      return 1;\n    }\n  }\n};\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/util.js\n ** module id = 3\n ** module chunks = 0\n **/","const Util = require('./util');\nconst Sprite = require(\"./sprite\");\n\nconst NORMALIZED_TIME_BETWEEN_FRAMES = 1000/60;\n\nclass MovableObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.vel = options.vel;\n    this.radius = options.radius;\n    this.dim = options.dim;\n    this.path = options.path;\n    this.game = options.game;\n  }\n\n  draw(ctx) {\n    const image = Sprite.createImage(this.path);\n    ctx.drawImage(image, this.pos[0], this.pos[1], this.dim, this.dim);\n  }\n\n  move(timeBetween) {\n    const timeElapsed = timeBetween / NORMALIZED_TIME_BETWEEN_FRAMES;\n    const xDelta = this.vel[0] * timeElapsed;\n    const yDelta = this.vel[1] * timeElapsed;\n\n    this.pos = [this.pos[0] + xDelta, this.pos[1] + yDelta];\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n}\n\nmodule.exports = MovableObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/movable_object.js\n ** module id = 4\n ** module chunks = 0\n **/","const Sprite = {\n  createImage(imgPath) {\n    const image = new Image();\n    image.src = imgPath;\n    return image;\n  }\n};\n\nmodule.exports = Sprite;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/sprite.js\n ** module id = 5\n ** module chunks = 0\n **/","const Util = require(\"./util\");\nconst MovableObject = require(\"./movable_object\");\n\nconst DEFAULTS = {\n  DIM: 125,\n  RADIUS: 30,\n  VELOCITY: [0, 0],\n  TERMINAL_VEL: 6,\n  PATH: 'assets/sprites/falcon',\n  ACCEL_RATE: -.5\n};\n\nclass Ship extends MovableObject {\n  constructor(options = {}) {\n    options.dim = DEFAULTS.DIM;\n    options.radius = DEFAULTS.RADIUS;\n    options.vel = options.vel || DEFAULTS.VELOCITY;\n    const falcNum = Util.calcFalcNum(options.vel[1]);\n    options.path = DEFAULTS.PATH + `${falcNum}.png`;\n    super(options);\n    this.accel = false;\n    this.rot = 0;\n    window.setInterval(this.gravity.bind(this), 50);\n    window.setInterval(this.accelerate.bind(this));\n  }\n\n  accelerate() {\n    if (this.accel && this.vel[1] > -DEFAULTS.TERMINAL_VEL) {\n      this.vel[1] += DEFAULTS.ACCEL_RATE;\n      const falcNum = Util.calcFalcNum(this.vel[1]);\n      this.path = DEFAULTS.PATH + `${falcNum}.png`;\n    }\n  }\n\n  gravity() {\n    if (this.vel[1] < DEFAULTS.TERMINAL_VEL) {\n      this.vel[1] += 1.5;\n      const falcNum = Util.calcFalcNum(this.vel[1]);\n      this.path = DEFAULTS.PATH + `${falcNum}.png`;\n    }\n  }\n\n  isCrash(otherObject) {\n    const distanceBetween = Util.distanceBetween(this, otherObject);\n    const minDistanceBetween = this.radius + otherObject.radius;\n    return (distanceBetween < minDistanceBetween);\n  }\n}\n\nmodule.exports = Ship;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/ship.js\n ** module id = 6\n ** module chunks = 0\n **/","class GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n    this.ship = this.game.addShip();\n    this.background = this.game.addBackground();\n  }\n\n  bindKeyHandlers() {\n    $jo(window).on('keydown', function(e) {\n      this.handleKeyEvent(e);\n    }.bind(this));\n\n    $jo(window).on('keyup', function(e) {\n      this.handleKeyRelease(e);\n    }.bind(this));\n  }\n\n  handleKeyEvent(e) {\n    if (e.keyCode === 32) {\n      this.ship.accel = true;\n      this.ship.rot = 150 * Math.PI / 180;\n    }\n  }\n\n  handleKeyRelease(e) {\n    if (e.keyCode === 32) {\n      this.ship.accel = false;\n      this.ship.rot = 210 * Math.PI / 180;\n    }\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.prevTime = 0;\n\n    window.requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.prevTime;\n    this.game.step(timeDelta);\n    this.game.draw(this.ctx);\n    this.prevTime = time;\n\n    window.requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game_view.js\n ** module id = 7\n ** module chunks = 0\n **/","const DEFAULTS = {\n  POS_X: 0,\n  POS_Y: 0,\n  WIDTH: 1900,\n  HEIGHT: 400,\n  PATH: 'assets/space.png',\n  SPEED: -1.5\n};\n\nclass Background {\n  constructor() {\n    this.posX = DEFAULTS.POS_X;\n    this.posY = DEFAULTS.POS_Y;\n    this.width = DEFAULTS.WIDTH;\n    this.height = DEFAULTS.HEIGHT;\n    this.speed = DEFAULTS.SPEED;\n    this.path = DEFAULTS.PATH;\n  }\n\n  draw(ctx) {\n    if (this.posX < -1000) {\n      this.posX = 0;\n    }\n    const image = new Image();\n    image.src = this.path;\n    ctx.drawImage(image, this.posX, this.posY, this.width, this.height);\n    this.move();\n  }\n\n  move() {\n    this.posX += this.speed;\n  }\n}\n\nmodule.exports = Background;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/background.js\n ** module id = 9\n ** module chunks = 0\n **/"],"sourceRoot":""}